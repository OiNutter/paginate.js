var paginate=function(e,t,n){function a(e,t,n){var a=document.createElement("a");a["data-target"]=n||e,a.innerHTML="<span>"+t+"</span>",a=s(a),m.appendChild(a)}function r(){var e=document.createElement("span");e.className="paginate-dots",e.innerHTML="...",m.appendChild(e)}function o(){var e,t=m.querySelectorAll(".paginate-bt");for(e=0;e<t.length;e++)s(t[e])}function s(e){l(e,"click");var t,n,a=e["data-target"],r="paginate-"+a+"-bt paginate-bt";switch(a){case"first":case"prev":case"jumpback":1==d&&(r+=" disabled");break;case"last":case"next":case"jumpforward":d==v&&(r+=" disabled");break;default:d==parseInt(a)&&(r+=" active")}return e.className=r,t||n||f(e,"click",k),e}function u(e){if("object"!=typeof e)return[];var t,n=[];for(t in e)n.push(e[t]);return n}function i(e,t){var n,a;for(n in t)if(u(e[n]).length>0&&u(t[n]).length>0)for(a in t[n])e[n][a]=t[n][a];else e[n]=t[n];return e}function c(e){return e&&"[object Function]"==={}.toString.call(e)}function g(e){return e._zid||(e._zid=F++)}function f(e,t,n){var a=g(e);P[a]||(P[a]={}),P[a][t]||(P[a][t]=[]),P[a][t].push(n),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent(t,n)}function l(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent(t,n)}var m,h,d,p,v,w,b,P={},F=1,S={},T=function(){if(m.innerHTML="",1!=v||h.showSinglePage){var e,t=Math.min(p-1+h.numPagesToShow,v),n=p+h.numPagesToShow-1<=v?p:v-h.numPagesToShow+1;for(1>n&&(n=1),h.limitButtons&&a("first","|&lt;"),h.fastForwardButtons&&a("jumpback","&lt;&lt;"),a("prev","&lt;"),h.showDots&&1!=p&&r(),e=n;t>=e;e++)a("page",e,e);h.showDots&&v>e&&r(),a("next","&gt;"),h.fastForwardButtons&&a("jumpforward","&gt;&gt;"),h.limitButtons&&a("last","&gt;|")}},k=function(e){var n,a,r;switch("object"==typeof e?(n=e.currentTarget||e.target,a=n["data-target"]):a=e,a){case"first":r=1;break;case"prev":r=Math.max(1,d-1);break;case"jumpback":r=Math.max(1,d-h.numPagesToShow);break;case"last":r=v;break;case"next":r=Math.min(v,d+1);break;case"jumpforward":r=Math.min(v,d+h.numPagesToShow);break;default:r=parseInt(a)}r!=d&&(t[h.navFunc](r),d=r,d>=p&&d<=Math.min(p-1+h.numPagesToShow,v-(p-1))?o():(p=p>d?d:d-(h.numPagesToShow-1),0>p||p>v&&(p=v),T()),h.onChange(r))},j=function(){v=t[h.numPagesFunc](),p=1,d=1,T()};if(h=i({showDots:!0,limitButtons:!0,fastForwardButtons:!1,numPagesToShow:5,start:1,showSinglePage:!1,onChange:function(){},numPagesFunc:"numPages",navFunc:"jumpTo",resetFuncs:["filter","reset"]},n),"string"==typeof e&&null==document.querySelector(e))throw"Element "+e+" does not exist!";if(m="string"==typeof e?document.querySelector(e):e,!t)throw"No gallery supplied";if(!t[h.numPagesFunc]||!c(t[h.numPagesFunc]))throw"gallery has no method numPages";for(v=t[h.numPagesFunc](),w=0;w<h.resetFuncs.length;w++)b=h.resetFuncs[w],t[b]&&c(t[b])&&(S[b]=t[b],t[b]=function(e){return function(){S[e].apply(t,arguments),j()}}(b));return p=h.start,d=p,T(),{goToPage:k,render:T,refresh:j}};